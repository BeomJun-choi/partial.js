// Partial.js 1.0
// History - lmn.js -> lego.js -> L.js -> abc.js -> Partial.js
// Project Lead - Indong Yoo
// Maintainers - Piljung Park, Hanah Choi
// Contributors - Joeun Ha, Byeongjin Kim, Jeongik Park, Hoonil Kim
// Respect Underscore.js
// (c) 2015-2017 Marpple. MIT Licensed.
!function(G){function _(n){if(_.isString(n))return _.method.apply(null,arguments);for(var t,r=[],e=arguments.length,u=e,i=1;e>i;i++){var a=arguments[i];a==___&&(u=i)&&(t=[])||(u>i?r.push(a):t.push(a))}var s=function(){return n.apply(this,merge_args(r,arguments,t))};return s._p_async=n._p_async,s._p_cb=n._p_cb,s}function _to_unde(n,t,r){t&&(n=n.concat(t)),r&&(n=n.concat(r));for(var e=0,u=n.length;u>e;e++)n[e]==_&&(n[e]=void 0);return n}function merge_args(n,t,r){if(!t.length)return r?_to_unde(n,r):_to_unde(_.clone(n));for(var e=_.clone(n),t=_.to_array(t),u=-1,i=e.length;++u<i;)e[u]==_&&(e[u]=t.shift());if(!r)return _to_unde(e,t.length?t:void 0);var a=_.clone(r),u=a.length;if(t.length){for(;u--;)a[u]==_&&(a[u]=t.pop());return _to_unde(e,t,a)}for(;u--&&a[u]==_;)a.pop();return _to_unde(e,a)}function goapply(n,t,r,e){for(var u,i=e||0;u=r[i++];)if(u._p_lzne){var a=[];do a.push(u);while((u=r[++i])&&u._p_lzne);u._p_lze?a.push(u):u=r[--i],t=u._p_go_lazy(a,t&&t._mr?t[0]:t)}else if(u==__)t=__;else{if(u._p_cb)return go_async(n,t,r,i-1);if(t)if(t._mr){if(thenable_mr(t))return go_async(n,t,r,i-1);if(t._stop)return 1==t.length?t[0]:t._stop=t;t=u.apply(n,t)}else{if(t.then&&_.isFunction(t.then))return go_async(n,t,r,i-1);t=t===__?u.call(n):u.call(n,t)}else t=u.call(n,t)}return t}function mr(){return arguments._mr=!0,arguments}function mr_cat(){for(var n=[],t=0,r=arguments.length;r>t;t++){var e=arguments[t];if(is_mr(e))for(var _=0,u=e.length;u>_;_++)n.push(e[_]);else n.push(e)}return n._mr=!0,n}function to_mr(n){return n._mr=!0,n}function is_mr(n){return n&&n._mr}function __(n){var t=Array.isArray(n)?n:arguments;return function(){return arguments._mr=!0,this==window||this==_?_.go(arguments,t):goapply(this,arguments,t)}}function __1(){var n=__.apply(null,arguments);return function(t){return n.call(this,t)}}function ___(n){var t=Array.isArray(n)?n:arguments;return function(){return goapply(ithis(this,arguments),to_mr(arguments),t)}}function ithis(n,t){return{parent:n,arguments:t}}function ___1(){var n=___.apply(null,arguments);return function(t){return n.call(this,t)}}function has_promise(){return has_promise.__cache||(has_promise.__cache=!!_.val(window,"Promise.prototype.then"))}function thenable(n){return n&&n.then&&_.isFunction(n.then)}function thenable_mr(n){for(var t,r=n.length;r--;)if(t=n[r],t&&t.then&&_.isFunction(t.then))return!0}function unpack_promise(n,t){var r=is_mr(n);return function e(n,_,u,i){return n==u?void(i&&t(r?_:_[0])):thenable(_[n])&&(i=!0)?function(n){return _[n].then(function(t){_[n]=t,e(n+1,_,u,i)}),!0}(n):e(n+1,_,u,i)}(0,n=r?n:[n],n.length,!1)}function go_async(n,t,r,e){var _=r.length,u=null,i=has_promise()?new Promise(function(n){u=n}):{then:function(n){u=n}};return function a(t){do{if(e===_)return u?u(fpro(t)):setTimeout(function(){u&&u(fpro(t))},0);if(unpack_promise(t,a))return;if(r[e]==__&&e++&&(t=__),t&&t._stop)e=_,t=1==t.length?t[0]:t._stop=t;else if(r[e]._p_lzne){var i=[];do i.push(r[e]);while(r[++e]&&r[e]._p_lzne);r[e]._p_lze?i.push(r[e]):e--,t=r[e]._p_go_lazy(i,t&&t._mr?t[0]:t)}else r[e]._p_cb||(t=is_mr(t)?r[e++].apply(n,t):t===__?r[e++].call(n):r[e++].call(n,t))}while(e==_||_>e&&!r[e]._p_cb);unpack_promise(t,a)||(is_mr(t)?r[e++].apply(n,(t[t.length++]=function(){a(to_mr(arguments))})&&t):t===__?r[e++].call(n,function(){a(to_mr(arguments))}):r[e++].call(n,t,function(){a(to_mr(arguments))}))}(t),i}function fpro(n){return is_mr(n)&&1==n.length?n[0]:n}function likearr(n){var t=getLength(n);return"number"==typeof t&&t>=0&&MAX_ARRAY_INDEX>=t}function _keys(n){return _.isObject(n)?Object.keys(n):[]}function _invert(n){for(var t=_keys(n),r=t.length,e={},_=0;r>_;_++)e[n[t[_]]]=t[_];return e}function each(n,t,r){for(var e=r||0,_=getLength(n);_>e;e++)t(n[e],e,n);return n}function map(n,t){for(var r=[],e=0,_=getLength(n);_>e;e++)r.push(t(n[e],e,n));return r}function times2(n,t){for(var r=1;n>=r;r++)t(r)}function lambda(str){if("string"!=typeof str)return str;if(str=str.replace(/\*\*/g,'"'),has_lambda||(str=str.replace(/`/g,"'")),lambda[str])return lambda[str];if(!str.match(/=>/))return lambda[str=str.replace("#","$.id==")]=new Function("$","return ("+str+")");if(has_lambda)return lambda[str]=eval(str);var ex_par=str.split(/\s*=>\s*/);return lambda[str]=new Function(ex_par[0].replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*\s*:|this|arguments|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[],"return ("+ex_par[1]+")")}function bexdf(n,t){for(var r=2,e=arguments.length;e>r;r++)t&&arguments[r]&&n(t,arguments[r]);return t&&delete t._memoize,t}function setter(n,t){for(var r in t)n[r]=t[r]}function dsetter(n,t){for(var r in t)_.has(n,r)||(n[r]=t[r])}function flat(n,t,r,e){return each(t,function(t){return likearr(t)&&(_.isArray(t)||_.isArguments(t))?void(r?each(t,function(t){n.push(t)}):flat(n,t,r)):n.push(t)},e),n}function DataIter(n,t,r){if(n.length!=t||r!=G&&r!=_){if(n.length>t)var e=n[n.length-t],u=Iter(n);else var e=n[0],u=n[1]||_.idtt;return r!=_&&r!=G&&(u=_.bind(u,r)),[e,u]}}function Iter(n,t){for(var r=t?3:2,e=n[n.length-(t?2:1)],_=[],u=0,i=n.length-r;i>u;u++)_[u]=n[u];_[u+r]=n[n.length-2],e._p_cb&&_.length++;var a=function(){return _[u]=arguments[0],_[u+1]=arguments[1],t&&(_[u+2]=arguments[2]),e._p_cb&&(_[_.length-1]=arguments[arguments.length-1]),e.apply(null,_)};return a._p_async=e._p_async,a._p_cb=e._p_cb,a}function every_or_some(n){return function t(r,e){if(1==arguments.length&&_.isFunction(r))return _(t,___,r);var u=DataIter2(arguments,2,this);if(u)var i=u[0],a=u[1];else var i=r,a=e;var s=likearr(i)?null:_keys(i);if(a._p_async||a._p_cb)return _every_or_some_async(i,a,s,!n,0,n);if(s){if(!s.length)return!1;var l=a(i[s[0]],s[0],i);if(l&&(l._mr?thenable_mr(l):l.then&&_.isFunction(l.then)))return _every_or_some_async(i,a,s,l,1,n);if(n?l:!l)return n;for(var e=1,o=s.length;o>e;e++)if(n?a(i[s[e]],s[e],i):!a(i[s[e]],s[e],i))return n}else{if(!i.length)return!1;var l=a(i[0],0,i);if(l&&(l._mr?thenable_mr(l):l.then&&_.isFunction(l.then)))return _every_or_some_async(i,a,null,l,1,n);if(n?l:!l)return n;for(var e=1,o=i.length;o>e;e++)if(n?a(i[e],e,i):!a(i[e],e,i))return n}return!n}}function DataIter2(n,t,r){if(n.length!=t||r!=G&&r!=_||"string"==typeof n[1]){if(n.length>t)var e=n[n.length-t],u=Iter(n);else var e=n[0],u=("string"==typeof n[1]?_.val(n[1]):n[1])||_.idtt;return r!=_&&r!=G&&(u=_.bind(u,r)),[e,u]}}function getLength(n){return null==n?void 0:n.length}function createIndexFinder(n,t,r){return function(e,u,i){var a=0,s=getLength(e);if("number"==typeof i)n>0?a=i>=0?i:Math.max(i+s,a):s=i>=0?Math.min(i+1,s):i+s+1;else if(r&&i&&s)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(slice.call(e,a,s),_.isNaN),i>=0?i+a:-1;for(i=n>0?a:s-1;i>=0&&s>i;i+=n)if(e[i]===u)return i;return-1}}function number_of_tab(n){var t=n.match(REG1)[0],r=(t.match(/\t/g)||[]).length,e=t.replace(/\t/g,"").length;return e/TAB_SIZE+r}function s(n,t){var r=remove_comment(_.map(_.rest(arguments,2),function(n){if(_.isString(n))return n;var t=_.uniqueId("func");return window.__ptf_storage[t]=n,"__ptf_storage."+t}).join("")),e={matcher:{}};return e.matcher[s_matcher_reg1]=s_matcher(3,s_matcher_reg1,r,t),r=r.replace(s_matcher_reg1,"__PJT__"),e.matcher[s_matcher_reg2]=s_matcher(2,s_matcher_reg2,r,t),r=n(r.replace(s_matcher_reg2,"{{}}").replace(/__PJT__/g,"{{{}}}")),function(){return _.go(_.mr(r,arguments,e),insert_datas1,insert_datas2,_.idtt)}}function s_matcher(n,t,r,e){return map(r.match(t),function(t){return new Function(e,"return "+t.substring(n,t.length-n)+";")})}function remove_comment(n){return n.replace(/\/\*(.*?)\*\//g,"").replace(REG2,"")}function s_exec(n,t,r,e,u){var i=!1,a=_.map(u.matcher[n],function(n){var r=_.go(n.apply(null,e),t,return_check);return thenable(r)&&(i=!0),r});return _.go(_.mr(r.split(n),i&&_.isArray(a)?_.map(a,_.async(_.idtt)):a),function(n,t){return _.mr(map(t,function(t,r){return n[r]+t}).join("")+n[n.length-1],e,u)})}function convert_to_html(n){var t=[],r=n.match(REG3),e=number_of_tab(r[0]),_=0;r[r.length-1]=r[r.length-1].replace(REG4[e]||(REG4[e]=new RegExp(TAB+"{"+e+"}$")),"");for(var u=0;u<r.length;u++){for(;number_of_tab(r[u])-e<t.length&&(_=0,0!=t.length);)r[u-1]+=end_tag(t.pop());var i=r[u];_?(r[u]=r[u].replace(REG6[_]||(REG6[_]=new RegExp("("+TAB+"{"+_+"})","g")),"\n"),r[u]!==(r[u]=r[u].replace(REG7,"\n"))&&(r=push_in(r,u+1,RegExp.$1))):(r[u]=line(r[u],t),i.match(REG5)&&(_=number_of_tab(RegExp.$1)+1))}for(;t.length;)r[r.length-1]+=end_tag(t.pop());return r.join("")}function line(n,t){return n=n.replace(REG8,"\n").replace(/^[ \t]*/,""),n.match(/^[\[.#\w\-]/)?n.replace(/^(\[.*\]|\{.*?\}|\S)+ ?/,function(n){return start_tag(n,t)}):n}function push_in(n,t,r){var e=n.splice(t);return n.push(r),n.concat(e)}function start_tag(n,t,r,e,u){return r="",e=n.match(/^\w+/),e=e&&"d"!=e?"sp"==e?"span":e:"div","input"!=e&&"br"!=e&&t.push(e),n=n.replace(/\[(.*)\]/,function(n,t){return(r+=" "+t)&&""}),(u=_.map(n.match(/\.(\{\{\{.*?\}\}\}|\{\{.*?\}\}|[\w\-]+)/g),function(n){return n.slice(1)}).join(" "))&&r==(r=r.replace(/class\s*=\s*((\").*?\"|(\{.*?\}|\S)+)/,function(n,t,r){return' class="'+u+" "+(r?t.slice(1,-1):t)+'"'}))&&(r=' class="'+u+'"'+r),r=[""].concat(_.map(n.match(/#(\{\{\{.*?\}\}\}|\{\{.*?\}\}|[\w\-]+)/g),function(n){return n.slice(1)})).join(" id=")+r,"<"+e+r+" >"}function end_tag(n){return"</"+n+">"}function return_check(n){return null==n||void 0==n?"":n}function _set(n,t,r){return _.isFunction(r)?_.go(_.mr(n[t],t,n),r,function(r){return _.mr(n[t]=r,t,n)}):_.mr(n[t]=r,t,n)}function _unset(n,t){var r=n[t];return delete n[t],_.mr(r,t,n)}function _remove(n,t){return _.mr(t,_.removeByIndex(n,n.indexOf(t)),n)}function _pop(n){return _.mr(n.pop(),n.length,n)}function _shift(n){return _.mr(n.shift(),0,n)}function _push(n,t){return _.isFunction(t)?_.go(n,t,function(t){return _.mr(t,n.push(t),n)}):_.mr(t,n.push(t),n)}function _unshift(n,t){return _.isFunction(t)?_.go(n,t,function(t){return _.mr(t,n.unshift(t),n)}):_.mr(t,n.unshift(t),n)}function Box(){}function help_result(n,t){return n[0]=t||_.box(n[0]),n}function go_strict(n,t){return _.go(t,map(_.rest(n),function(n){return n._p_lzt_m?_.map(n):n._p_lzt_ft?_.filter(n):n._p_lzt_t?_.take(n.limit):n._p_lzt_fi?_.find(n):n._p_lzt_s?_.some(n):n._p_lzt_e?_.every(n):_.isFunction(n)?_.loop(n):_.loop(n[0],n[1])}))}function go_lazy_t(n,t){var r=0;if(n[0]._p_lzst&&(r=1)&&n[0](t))return go_strict(n,t);var e=n[n.length-1],_=[],u=e.limit;n:for(var i=0,a=0,s=t.length,l=n.length-1;s>i;i++){for(var o=t[i],c=r;l>c;c++){var f=n[c],g=f(o);if(f._p_lzt_m)o=g;else if(!g)continue n}if(_[a++]=o,a==u)return _}return _}function go_lazy_fi(n,t){var r=0;if(n[0]._p_lzst&&(r=1)&&n[0](t))return go_strict(n,t);var e=n[n.length-1];n:for(var _=0,u=t.length,i=n.length-1;u>_;_++){for(var a=t[_],s=r;i>s;s++){var l=n[s],o=l(a);if(l._p_lzt_m)a=o;else if(!o)continue n}if(e(a))return a}}function go_lazy_s(n,t){var r=0;if(n[0]._p_lzst&&(r=1)&&n[0](t))return go_strict(n,t);var e=n[n.length-1];n:for(var _=r,u=t.length,i=n.length-1;u>_;_++){for(var a=t[_],s=0;i>s;s++){var l=n[s],o=l(a);if(l._p_lzt_m)a=o;else if(!o)continue n}if(e(a))return!0}return!1}function go_lazy_e(n,t){var r=0;if(n[0]._p_lzst&&(r=1)&&n[0](t))return go_strict(n,t);var e=n[n.length-1];if(!t.length)return!1;n:for(var _=0,u=t.length,i=n.length-1;u>_;_++){for(var a=t[_],s=r;i>s;s++){var l=n[s],o=l(a);if(l._p_lzt_m)a=o;else if(!o)continue n}if(!e(a))return!1}return!0}function go_lazy_l(n,t){var r=0;if(n[0]._p_lzst&&(r=1)&&n[0](t))return go_strict(n,t);var e,u=n[n.length-1],i=u,a=!1;_.is_mr(i)&&(u=i[0],e=i[1],e=_.isFunction(e)?e():_.clone(e),a=!0);n:for(var s=0,l=t.length,o=n.length-1;l>s;s++){for(var c=t[s],f=r;o>f;f++){var g=n[f],h=g(c);if(g._p_lzt_m)c=h;else if(!h)continue n}if(a?e=u(e,c):(e=c,a=!0),e&&e._break)return e[0]}return e}function go_lazy(n,t){var r=0;if(n[0]._p_lzst&&(r=1)&&n[0](t))return go_strict(n,t);var e=[];n:for(var _=0,u=0,i=t.length,a=n.length;i>_;_++){for(var s=t[_],l=r;a>l;l++){var o=n[l],c=o(s);if(o._p_lzt_m)s=c;else if(!c)continue n}e[u++]=s}return e}function wrap_iter(n){function t(t){return n(t)}return t._p_async=n._p_async,t._p_cb=n._p_cb,t}var window="object"!=typeof window?G:window,prev_=window._;window._previous_underscore||!prev_||prev_._partialjs||(window._previous_underscore=function(){return prev_}),window._partial_namespace=function(){return _},_.partial=_,_.partial._partialjs=!0,_.m=_.method=function(n){function t(t){return t[n].apply(t,_.rest(arguments))}return _.apply(null,[t,_].concat(_.rest(arguments)))},_.bind=function(n){var t=Function.prototype.bind.apply(n,_.rest(arguments));return t._p_async=n._p_async,t._p_cb=n._p_cb,t},_.go=function(n,t){if(this!=_&&this!=window)return _.isFunction(t)?goapply(this,n,arguments,1):goapply(this,n,t);var r,e=0,u=arguments;for(_.isFunction(t)||(e=-1,u=t);r=u[++e];)if(r._p_lzne){var i=[];do i.push(r);while((r=u[++e])&&r._p_lzne);r._p_lze?i.push(r):r=u[--e],n=r._p_go_lazy(i,n&&n._mr?n[0]:n)}else if(r==__)n=__;else{if(r._p_cb)return go_async(null,n,u,e);if(n)if(n._mr){if(thenable_mr(n))return go_async(null,n,u,e);if(n._stop)return 1==n.length?n[0]:n._stop=n;n=r.apply(void 0,n)}else{if(n.then&&_.isFunction(n.then))return go_async(null,n,u,e);n=n===__?r():r(n)}else n=r(n)}return n},_.mr=mr,_.to_mr=to_mr,_.is_mr=is_mr,_.mr_cat=mr_cat,_.stop=function(){return arguments._stop=arguments._mr=!0,arguments},_.pipe=__,_.pipe1=__1,_.indent=___,_.indent1=___1,_.tap=_.Tap=function(){var n=__.apply(null,arguments);return function(t){var r=arguments.length>1?to_mr(arguments):arguments.length?arguments[0]:__;return _.go.call(this,r,n,_.c(r))}},_.add_arg=function(){var n=__.apply(null,arguments);return function(t){var r=arguments.length>1?to_mr(arguments):arguments.length?arguments[0]:__;return _.go.call(this,r,n,function(){return _.mr_cat(t,_.to_mr(arguments))})}},_.wait=function(n){return _.callback(function(){var t=arguments,r=t[t.length-1];t.length--,setTimeout(function(){r.apply(null,t)},n||0)})},_.Err=function(n){return new Error(n)},_.go.async=function(n){return go_async(_.go==this?null:this,n,arguments,1)},__.async=function(n){function t(){return go_async(this,to_mr(arguments),r,0)}var r=Array.isArray(n)?n:arguments;return t._p_async=!0,t},_.async=__.async,_.pipe.async=__.async,___.async=_.indent.async=function(n){var t=Array.isArray(n)?n:arguments;return function(){return go_async(ithis(this,arguments),to_mr(arguments),t,0)}},_.cb=_.callback=function(n){return __.async.apply(null,map(arguments,function(n){return n._p_cb=!0,n}))},_.boomerang=function(){var n=arguments;return _.callback(function(){var t=arguments,r=t[t.length-1];t.length--;var e=ithis(this,t);e["return"]=r,go_async(e,to_mr(t),n,0)})},_.branch=function(){var n=arguments;return function(){return arguments._mr=!0,goapply(this,arguments,n),arguments}},_.all2=function(n){for(var t,r=[],e=1,u=arguments.length;u>e;e++)if(t=_.is_mr(n)?arguments[e].apply(this==_?null:this,n):arguments[e].call(this==_?null:this,n),_.is_mr(t))for(var i=0,u=t.length;u>i;i++)r.push(t[i]);else r.push(t);return to_mr(r)},_.spread2=function(n){for(var t,r=_.rest(arguments,1),e=[],u=0,i=r.length,a=n.length;i>u||a>u;u++)if(t=_.is_mr(n[u])?(r[u]||_.idtt).apply(this==_?null:this,n[u]):(r[u]||_.idtt).call(this==_?null:this,n[u]),_.is_mr(t))for(var s=0,l=t.length;l>s;s++)e.push(t[s]);else e.push(t);return to_mr(e)},_.all=_.All=function(){var n=_.last(arguments);return _.isArray(n)?_.all2.apply(this,[to_mr(_.initial(arguments))].concat(n)):(n=_.toArray(arguments),function(){return _.all2.apply(this,[to_mr(arguments)].concat(n))})},_.spread=_.Spread=function(){var n=_.last(arguments);return _.isArray(n)?_.spread2.apply(this,[to_mr(_.initial(arguments))].concat(n)):(n=_.toArray(arguments),function(){return _.spread2.apply(this,[to_mr(arguments)].concat(n))})},_["if"]=_.If=function(n,t){function r(n,t){return u.push(t?[n,t]:[_.identity,n])&&e}function e(){var n=this,t=arguments;return _.go.call(this,u,_(_.find,_,function(r){return r[0].apply(n,t)}),function(r){return r?r[1].apply(n,t):void 0})}var u=[t?[n,t]:[_.identity,n]];return _.extend(e,{else_if:r,elseIf:r,"else":function(n){return u.push([_.constant(!0),n])&&e}})},_.noop=function(){},_["this"]=function(){return this},_.idtt=_.identity=function(n){return n},_.i=_.i18n=function(n){return 1==arguments.length?n:_.toArray(arguments).join(" ")},_.args=function(){return arguments},_.args0=_.identity,_.args1=function(){return arguments[1]},_.args2=function(){return arguments[2]},_.args3=function(){return arguments[3]},_.args4=function(){return arguments[4]},_.a=_.c=_.always=_.constant=function(n){return function(){return n}},_["true"]=_.constant(!0),_["false"]=_.constant(!1),_["null"]=_.constant(null),_.not=function(n){return!n},_.nnot=function(n){return!!n},_.log=window.console&&window.console.log?console.log.bind?console.log.bind(console):function(){console.log.apply(console,arguments)}:_.idtt,_.loge=window.console&&window.console.error?console.error.bind?console.error.bind(console):function(){console.error.apply(console,arguments)}:_.idtt,_.hi=_.Tap(_.log),_.Hi=function(n){return _.tap(function(){return console.log.apply(null,[n].concat(_.toArray(arguments)))})},_.f=function(n){var t=_.val(window,n),r=Error("warning: "+n+" is not defined");return t||setTimeout(function(){(t=t||_.val(window,n))||_.loge(r)},500)&&function(){return(t||(t=_.val(window,n))).apply(this,arguments)}},_.v=_.val=function(n,t,r){return 1==arguments.length?_.property(n):function e(n,t,r,_){return(n=n[r[t]])?_==t?n:e(n,t+1,r,_):_==t?n:void 0}(n||{},0,r=t.split("."),r.length-1)},_.property=function(n){return _(_.val,_,n)},_.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},each(["Arguments","String","Number","Date","RegExp","Error"],function(n){_["is_"+n.toLowerCase()]=_["is"+n]=function(t){return Object.prototype.toString.call(t)==="[object "+n+"]"}}),_.is_function=_.isFunction=function(n){return n instanceof Function},"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.is_function=_.isFunction=function(n){return"function"==typeof n||!1}),_.is_object=_.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},_.is_undefined=_.isUndefined=function(n){return void 0===n};var hasOwnProperty=Object.hasOwnProperty;_.has=function(n,t){return null!=n&&hasOwnProperty.call(n,t)};var MAX_ARRAY_INDEX=Math.pow(2,53)-1;_.is_array_like=_.isArrayLike=likearr;var slice=Array.prototype.slice;_.rest=function n(t,r,e){return _.isNumber(t)?_(n,_,t):slice.call(t,null==r||e?1:r)},_.values=function(n){for(var t=_keys(n),r=t.length,e=Array(r),_=-1;++_<r;)e[_]=n[t[_]];return e},_.toArray=_.to_array=function(n){return likearr(n)?slice.call(n):_.values(n)},_.keyval=_.obj=_.object=function(n,t){if(_.isString(n)){var r={};return r[n]=t,r}for(var e={},u=0,i=getLength(n);i>u;u++)t?e[n[u]]=t[u]:e[n[u][0]]=n[u][1];return e},_.valkey=function(n,t){return _.obj(t,n)},_.obj2=_.object2=function t(n,r,e){return 2==arguments.length?_(t,_,n,r):_.obj(_.wrap_arr(r),_.values(_.pick(n,e)))},_.keys=_keys,_.size=function(n){return likearr(n)?n.length:_keys(n).length},_.nest=function r(n,t){return 1==arguments.length?_(r,n):_.reduceRight(n.split("."),_.valkey,t)},_.invert=_invert;var escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},unescapeMap=_invert(escapeMap),createEscaper=function(n){var t=function(t){return n[t]},r="(?:"+_keys(n).join("|")+")",e=RegExp(r),_=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(_,t):n}};_.escape=createEscaper(escapeMap),_.unescape=createEscaper(unescapeMap);var idCounter=0;_.unique_id=_.uniqueId=function(n){var t=++idCounter+"";return n?n+t:t},_.clone=function(n){if(!_.isObject(n))return n;if(_.isArray(n))return n.slice();var t=_.extend({},n);return delete t._memoize,t},_.is_empty=_.isEmpty=function(n){return likearr(n)&&(_.isArray(n)||_.isString(n)||_.isArguments(n))?0===n.length:0===_keys(n).length},_.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return _.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},_.memoize2=function(n){return function(t){var r=++n,e=1==arguments.length?t:__.apply(null,arguments);return function(n){return _.has(n._memoize||(n._memoize=function(){}),r)?n._memoize[r]:n._memoize[r]=e(n)}}}(0),_.delay=function(n,t){var r=slice.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},_.defer=_.partial(_.delay,_,1),_.throttle=function(n,t,r){var e,_,u,i=null,a=0;r||(r={});var s=function(){a=r.leading===!1?0:Date.now(),i=null,u=n.apply(e,_),i||(e=_=null)};return function(){var l=Date.now();a||r.leading!==!1||(a=l);var o=t-(l-a);return e=this,_=arguments,0>=o||o>t?(i&&(clearTimeout(i),i=null),a=l,u=n.apply(e,_),i||(e=_=null)):i||r.trailing===!1||(i=setTimeout(s,o)),u}},_.debounce=function(n,t,r){var e,_,u,i,a,s=function(){var l=Date.now()-i;t>l&&l>=0?e=setTimeout(s,t-l):(e=null,r||(a=n.apply(u,_),e||(u=_=null)))};return function(){u=this,_=arguments,i=Date.now();var l=r&&!e;return e||(e=setTimeout(s,t)),l&&(a=n.apply(u,_),u=_=null),a}},_.negate=function(n){return function(){return!n.apply(this,arguments)}},_.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},_.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}},_.once=_.partial(_.before,2);var eq=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof _&&(n=n._wrapped),t instanceof _&&(t=t._wrapped);var u=toString.call(n);if(u!==toString.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var a=n.constructor,s=t.constructor;if(a!==s&&!(_.isFunction(a)&&a instanceof a&&_.isFunction(s)&&s instanceof s)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var l=r.length;l--;)if(r[l]===n)return e[l]===t;if(r.push(n),e.push(t),i){if(l=n.length,l!==t.length)return!1;for(;l--;)if(!eq(n[l],t[l],r,e))return!1}else{var o,c=_keys(n);if(l=c.length,_keys(t).length!==l)return!1;for(;l--;)if(o=c[l],!_.has(t,o)||!eq(n[o],t[o],r,e))return!1}return r.pop(),e.pop(),!0};_.is_equal=_.isEqual=function e(n,t){return 1==arguments.length?_(e,n):eq(n,t)},_.is_match=_.isMatch=_.matcher=function u(n,t){if(1==arguments.length)return _(u,_,n);var r=_keys(t),e=r.length;if(null==n)return!e;for(var i,a=0,s=Object(n);e>a;a++)if(t[i=r[a]]!=s[i]||!(i in s))return!1;return!0},_.times=function(n,t){for(var r=0;n>r;r++)t(r)};var toString=Object.prototype.toString;_.is_finite=_.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},_.is_nan=_.isNaN=function(n){return _.isNumber(n)&&n!==+n},_.is_boolean=_.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===toString.call(n)},_.is_null=_.isNull=function(n){return null===n},_.is_numeric=_.isNumeric=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},_.is_array=_.isArray=Array.isArray,_.is_arguments=_.isArguments=function(n){return!(!n||!n.callee)},_.is_element=_.isElement=function(n){return!(!n||1!==n.nodeType)},_.wrapArray=_.wrap_arr=function(n){return _.isArray(n)?n:[n]},_.parseInt=_.parse_int=function(n){return parseInt(n,10)};try{var has_lambda=!0;eval("a=>a")}catch(err){var has_lambda=!1}_.l=_.lambda=lambda,_.extend=function(){return bexdf.apply(null,[setter].concat(_.toArray(arguments)))},_.defaults=function(){return bexdf.apply(null,[dsetter].concat(_.toArray(arguments)))},_.flatten=function(n,t,r){return flat([],n,t,r)};var _each_async=function i(n,t,r,e,u){return _.go(e,function(){var e=r?r[u]:u;return(r||n).length==u?n:i(n,t,r,t(n[e],e,n),++u)})};_.each=function a(n,t){if(1==arguments.length)return _(a,___,n);var r=DataIter(arguments,2,this);if(r)var e=r[0],u=r[1];else var e=n,u=t;var i=likearr(e)?null:_keys(e);if(u._p_async||u._p_cb)return _each_async(e,u,i,null,0);if(i){if(!i.length)return e;var s=u(e[i[0]],i[0],e);if(s&&(s._mr?thenable_mr(s):s.then&&_.isFunction(s.then)))return _each_async(e,u,i,s,1);for(var t=1,l=i.length;l>t;t++)u(e[i[t]],i[t],e)}else{if(!e.length)return e;var s=u(e[0],0,e);if(s&&(s._mr?thenable_mr(s):s.then&&_.isFunction(s.then)))return _each_async(e,u,null,s,1);for(var t=1,l=e.length;l>t;t++)u(e[t],t,e)}return e};var _map_async=function l(n,t,r,e,u,i){return _.go(e,function(e){u-1>-1&&(i[u-1]=e);var _=r?r[u]:u;return(r||n).length==u?i:l(n,t,r,t(n[_],_,n),++u,i)})};_.map=function o(n,t){if(1==arguments.length)return _(o,___,n);var r=DataIter(arguments,2,this);if(r)var e=r[0],u=r[1];else var e=n,u=t;var i=likearr(e)?null:_keys(e);if(u._p_async||u._p_cb)return _map_async(e,u,i,null,0,[]);var a=[];if(i){if(!i.length)return a;var s=u(e[i[0]],i[0],e);if(s&&(s._mr?thenable_mr(s):s.then&&_.isFunction(s.then)))return _map_async(e,u,i,s,1,a);a[0]=s;for(var t=1,l=a.length=i.length;l>t;t++)a[t]=u(e[i[t]],i[t],e)}else{if(!e.length)return a;var s=u(e[0],0,e);if(s&&(s._mr?thenable_mr(s):s.then&&_.isFunction(s.then)))return _map_async(e,u,null,s,1,a);a[0]=s;for(var t=1,l=a.length=e.length;l>t;t++)a[t]=u(e[t],t,e)}return a},_.if_arr_map=function c(n,t){return 1==arguments.length?_(c,_,n):_.is_array(n)?_.map(n,t):t(n)};var _reduce_async=function f(n,t,r,e,u){return _.go(e,function(e){var _=r?r[u]:u;return(r||n).length==u?e:f(n,t,r,t(e,n[_],_,n),++u)})};_.reduce=function g(n,t,r){if(1==arguments.length)return _(g,_,___,n,_);if(2==arguments.length&&_.isFunction(n))return _(g,___,n,_.isFunction(t)?t:_(_.clone,t));if(arguments.length<4)var e=n,u=t,i=r;else var e=arguments[arguments.length-3],u=Iter(arguments,!0),i=arguments[arguments.length-1];i=_.isFunction(i)?i.call(this):i,this!=_&&this!=G&&(u=_.bind(u,this));var a=likearr(e)?null:_keys(e),t=0;if(u._p_async||u._p_cb)return _reduce_async(e,u,a,arguments.length>2?i:a?e[a[t++]]:e[t++],t);if(a){i=arguments.length>2?i:e[a[t++]];var s=a.length;if(!s||s==t)return i;if(i=u(i,e[a[t]],a[t++],e),i&&(i._mr?thenable_mr(i):i.then&&_.isFunction(i.then)))return _reduce_async(e,u,a,i,t);for(;s>t;t++)i=u(i,e[a[t]],a[t],e)}else{i=arguments.length>2?i:e[t++];var s=e.length;if(!s||s==t)return i;if(i=u(i,e[t],t++,e),i&&(i._mr?thenable_mr(i):i.then&&_.isFunction(i.then)))return _reduce_async(e,u,null,i,t);for(;s>t;t++)i=u(i,e[t],t,e)}return i};var _reduce_right_async=function h(n,t,r,e,u){return _.go(e,function(e){var _=r?r[u]:u;return(r||n).length==u?e:h(n,t,r,t(e,n[_],_,n),++u)})};_.reduceRight=_.reduce_right=function m(n,t,r){if(1==arguments.length)return _(m,_,___,n,_);if(2==arguments.length&&_.isFunction(n))return _(m,___,n,_.isFunction(t)?t:_(_.clone,t));if(arguments.length<4)var e=n,u=t,i=r;else var e=arguments[arguments.length-3],u=Iter(arguments,!0),i=arguments[arguments.length-1];i=_.isFunction(i)?i.call(this):i,this!=_&&this!=G&&(u=_.bind(u,this));var a=likearr(e)?null:_keys(e);if(u._p_async||u._p_cb){var t=(a||e).length-1;return _reduce_right_async(e,u,a,arguments.length>2?i:a?e[a[t--]]:e[t--],t)}if(a){var t=a.length-1;if(i=arguments.length>2?i:e[a[t--]],!a.length||-1==t)return i;if(i=u(i,e[a[t]],a[t--],e),i&&(i._mr?thenable_mr(i):i.then&&_.isFunction(i.then)))return _reduce_async(e,u,a,i,t);for(;t>-1;t--)i=u(i,e[a[t]],a[t],e)}else{var t=e.length-1;if(i=arguments.length>2?i:e[t--],!e.length||-1==t)return i;if(i=u(i,e[t],t--,e),i&&(i._mr?thenable_mr(i):i.then&&_.isFunction(i.then)))return _reduce_async(e,u,null,i,t);for(;t>-1;t--)i=u(i,e[t],t,e)}return i},_["break"]=function(){return arguments._break=!0,arguments},_.loop=function p(n,t,r){if(1==arguments.length)return _(p,_,___,n,_);if(2==arguments.length&&_.isFunction(n))return _(p,___,n,_.isFunction(t)?t:_(_.clone,t));if(arguments.length<4)var e=n,u=t,i=r;else var e=arguments[arguments.length-3],u=Iter(arguments,!0),i=arguments[arguments.length-1];i=_.isFunction(i)?i.call(this):i,this!=_&&this!=G&&(u=_.bind(u,this));var a=likearr(e)?null:_keys(e);return i=arguments.length>2?i:e[a?a[0]:0],_.go(_.find(e,function(n,t,r){return _.go(u(i,n,t,r),function(n){var t=n&&n._break;return i=t?n[0]:n,t})}),function(){return i})};var _find_async=function v(n,t,r,e,u){return _.go(e,function(e){if(e)return n[r?r[u-1]:u-1];var _=r?r[u]:u;return(r||n).length==u?void 0:v(n,t,r,t(n[_],_,n),++u)})};_.find=function y(n,t){if(1==arguments.length)return _(y,___,n);var r=DataIter2(arguments,2,this);if(r)var e=r[0],u=r[1];else var e=n,u=t;var i=likearr(e)?null:_keys(e);if(u._p_async||u._p_cb)return _find_async(e,u,i,null,0);if(i){if(!i.length)return;var a=u(e[i[0]],i[0],e);if(a&&(a._mr?thenable_mr(a):a.then&&_.isFunction(a.then)))return _find_async(e,u,i,a,1);if(a)return e[i[0]];for(var t=1,s=i.length;s>t;t++)if(u(e[i[t]],i[t],e))return e[i[t]]}else{if(!e.length)return;var a=u(e[0],0,e);if(a&&(a._mr?thenable_mr(a):a.then&&_.isFunction(a.then)))return _find_async(e,u,null,a,1);if(a)return e[0];for(var t=1,s=e.length;s>t;t++)if(u(e[t],t,e))return e[t]}};var _filter_async=function d(n,t,r,e,u,i){return _.go(e,function(e){e&&i.push(n[r?r[u-1]:u-1]);var _=r?r[u]:u;return(r||n).length==u?void 0:d(n,t,r,t(n[_],_,n),++u,i)})};_.filter=function b(n,t){if(1==arguments.length)return _(b,___,n);var r=DataIter2(arguments,2,this);if(r)var e=r[0],u=r[1];else var e=n,u=t;var i=likearr(e)?null:_keys(e);if(u._p_async||u._p_cb)return _filter_async(e,u,i,null,0,[]);var a=[];if(i){if(!i.length)return e;var s=u(e[i[0]],i[0],e);if(s&&(s._mr?thenable_mr(s):s.then&&_.isFunction(s.then)))return _filter_async(e,u,i,s,1,a);s&&a.push(e[i[0]]);for(var t=1,l=i.length;l>t;t++)u(e[i[t]],i[t],e)&&a.push(e[i[t]])}else{if(!e.length)return e;var s=u(e[0],0,e);if(s&&(s._mr?thenable_mr(s):s.then&&_.isFunction(s.then)))return _filter_async(e,u,null,s,1,a);s&&a.push(e[0]);for(var t=1,l=e.length;l>t;t++)u(e[t],t,e)&&a.push(e[t])}return a};var _reject_async=function w(n,t,r,e,u,i){return _.go(e,function(e){e||i.push(n[r?r[u-1]:u-1]);var _=r?r[u]:u;return(r||n).length==u?void 0:w(n,t,r,t(n[_],_,n),++u,i)})};_.reject=function z(n,t){if(1==arguments.length)return _(z,___,n);var r=DataIter2(arguments,2,this);if(r)var e=r[0],u=r[1];else var e=n,u=t;var i=likearr(e)?null:_keys(e);if(u._p_async||u._p_cb)return _reject_async(e,u,i,null,0,[]);var a=[];if(i){if(!i.length)return e;var s=u(e[i[0]],i[0],e);if(s&&(s._mr?thenable_mr(s):s.then&&_.isFunction(s.then)))return _reject_async(e,u,i,s,1,a);s||a.push(e[i[0]]);for(var t=1,l=i.length;l>t;t++)u(e[i[t]],i[t],e)||a.push(e[i[t]])}else{if(!e.length)return e;var s=u(e[0],0,e);if(s&&(s._mr?thenable_mr(s):s.then&&_.isFunction(s.then)))return _reject_async(e,u,null,s,1,a);s||a.push(e[0]);for(var t=1,l=e.length;l>t;t++)u(e[t],t,e)||a.push(e[t])}return a};var _every_or_some_async=function x(n,t,r,e,u,i){return _.go(e,function(e){if(i?e:!e)return i;var _=r?r[u]:u;return(r||n).length==u?!0:x(n,t,r,t(n[_],_,n),++u,i)})};_.every=every_or_some(!1),_.some=every_or_some(!0),_.where=function(n,t){return 1==arguments.length?_.filter(function(n){return _.is_match(n,t)}):_.filter(n,function(n){return _.is_match(n,t)})},_.findWhere=_.find_where=function(n,t){return 1==arguments.length?_.find(function(n){return _.is_match(n,t)}):_.find(n,function(n){return _.is_match(n,t)})},_.contains=function(n,t,r){return likearr(n)||(n=_.values(n)),"number"!=typeof r&&(r=0),_.indexOf(n,t,r)>=0},_.invoke=function(n,t){var r=_.rest(arguments,2),e=_.isFunction(t);return _.map(n,function(n){var _=e?t:n[t];return _&&_.apply(n,r)})},_.pluck=function A(n,t){return 1==arguments.length?_(A,_,n):_.map(n,function(n){return n[t]})},_.deep_pluck=_.deepPluck=function k(n,t){if(1==arguments.length)return _(k,_,n);t=t.split(".");var r;return _.flatten(_.map(_.isArray(n)?n:[n],function(n){for(var e=n,u=-1;++u<t.length&&_.isObject(e)&&!_.isArray(e);)e=e[t[u]];return u<t.length&&_.isObject(e)?_.deep_pluck(e,r||(r=_.rest(t,u).join("."))):e}))},_.max=function F(n,t){if(1==arguments.length&&_.isFunction(n)||_.isString(n))return _(F,___,n);var r=DataIter2(arguments,2,this);if(r)var e=r[0],u=r[1];else var e=n,u=t;
  if(_.isEmpty(e))return-(1/0);var i,a,s;if(likearr(e)){if(isNaN(i=u(s=e[0],0,e)))return-(1/0);for(var t=1,l=e.length;l>t;t++)a=u(e[t],t,e),a>i&&(i=a,s=e[t])}else{var o=_keys(e);if(isNaN(i=u(s=e[o[0]],o[0],e)))return-(1/0);for(var t=1,l=o.length;l>t;t++)a=u(e[o[t]],o[t],e),a>i&&(i=a,s=e[o[t]])}return s},_.min=function E(n,t){if(1==arguments.length&&_.isFunction(n)||_.isString(n))return _(E,___,n);var r=DataIter2(arguments,2,this);if(r)var e=r[0],u=r[1];else var e=n,u=t;if(_.isEmpty(e))return 1/0;var i,a,s;if(likearr(e)){if(isNaN(i=u(s=e[0],0,e)))return 1/0;for(var t=1,l=e.length;l>t;t++)a=u(e[t],t,e),i>a&&(i=a,s=e[t])}else{var o=_keys(e);if(isNaN(i=u(s=e[o[0]],o[0],e)))return 1/0;for(var t=1,l=o.length;l>t;t++)a=u(e[o[t]],o[t],e),i>a&&(i=a,s=e[o[t]])}return s},_.sortBy=_.sort_by=function j(n,t){if(1==arguments.length&&_.isFunction(n)||_.isString(n))return _(j,___,n);var r=DataIter2(arguments,2,this);if(r)var e=r[0],u=r[1];else var e=n,u=t;return _.pluck(_.map(e,function(n,t,r){return{val:n,idx:t,criteria:u(n,t,r)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.idx-t.idx}),"val")},_.groupBy=_.group_by=function I(n,t){if(1==arguments.length&&_.isFunction(n)||_.isString(n))return _(I,___,n);var r=DataIter2(arguments,2,this);if(r)var e=r[0],u=r[1];else var e=n,u=t;for(var i={},a=_.map(e,u),t=0,s=a.length;s>t;t++)_.has(i,a[t])?i[a[t]].push(e[t]):i[a[t]]=[e[t]];return i},_.indexBy=_.index_by=function R(n,t){if(1==arguments.length&&_.isFunction(n)||_.isString(n))return _(R,___,n);var r=DataIter2(arguments,2,this);if(r)var e=r[0],u=r[1];else var e=n,u=t;for(var i={},a=_.map(e,u),t=0,s=a.length;s>t;t++)i[a[t]]=e[t];return i},_.countBy=_.count_by=function S(n,t){if(1==arguments.length&&_.isFunction(n)||_.isString(n))return _(S,___,n);var r=DataIter2(arguments,2,this);if(r)var e=r[0],u=r[1];else var e=n,u=t;for(var i={},a=_.map(e,u),t=0,s=a.length;s>t;t++)i[a[t]]++||(i[a[t]]=1);return i},_.shuffle=function(n){for(var t,r=likearr(n)?n:_.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=_.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},_.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},_.sample=function(n,t){return 2==arguments.length&&1>t?[]:t?_.shuffle(n).slice(0,t):_.shuffle(n)[0]},_.partition=function N(n,t){if(1==arguments.length&&_.isFunction(n)||_.isString(n))return _(N,___,n);var r=DataIter2(arguments,2,this);if(r)var e=r[0],u=r[1];else var e=n,u=t;var i=[],a=[];return _.each(e,function(n,t,r){(u(n,t,r)?i:a).push(n)}),[i,a]},_.first=_.head=_.take=function $(n,t,r){return 1==arguments.length&&_.isNumber(n)?_($,_,n):null==n?void 0:null==t||r?n[0]:_.initial(n,n.length-t)},_.initial=function D(n,t,r){return 1==arguments.length&&_.isNumber(n)?_(D,_,n):slice.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},_.last=function T(n,t,r){return 1==arguments.length&&_.isNumber(n)?_(T,_,n):null==n?void 0:null==t||r?n[n.length-1]:_.rest(n,Math.max(0,n.length-t))},_.compact=function(n){return _.filter(n,_.identity)},_.without=function(n){return _.difference(n,slice.call(arguments,1))},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=getLength(n);u>e;e++){var i=n[e];if(!_.contains(t,i)){for(var a=1;r>a&&_.contains(arguments[a],i);a++);a===r&&t.push(i)}}return t},_.difference=function(n){var t=_.flatten(arguments,!0,1);return _.reject(n,function(n){return _.contains(t,n)})},_.zip=function(){return _.unzip(arguments)},_.unzip=function(n){for(var t=n&&_.max(n,getLength).length||0,r=Array(t),e=0;t>e;e++)r[e]=_.pluck(n,e);return r},_.unique=_.uniq=function O(n,t){if(1==arguments.length&&_.isFunction(n)||_.isString(n))return _(O,___,n);var r=DataIter2(arguments,2,this);if(r)var e=r[0],u=r[1];else var e=n,u=t;for(var i=[],a=[],s=u?_.map(e,u):e,t=0,l=getLength(e);l>t;t++)-1==a.indexOf(s[t])&&(a.push(s[t]),i.push(e[t]));return i},_.sortedIndex=_.sorted_i=function B(n,t,r){if(_.isFunction(n))return _(B,_,_,n);if(arguments.length>3)var e=arguments[arguments.length-3],u=arguments[arguments.length-2],i=_.apply(null,_.last(arguments,1).concat(_.initial(arguments,3)));else var e=n,u=t,i=r||_.idtt;this!=_&&this!=G&&(i=_.bind(i,this));for(var a=i(u),s=0,l=getLength(e);l>s;){var o=Math.floor((s+l)/2);i(e[o])<a?s=o+1:l=o}return s},_.find_i=_.findIndex=function M(n,t){if(1==arguments.length)return _(M,___,n);var r=DataIter2(arguments,2,this);if(r)var e=r[0],u=r[1];else var e=n,u=t;for(var t=0,i=getLength(e);i>t;t++)if(u(e[t],t,e))return t;return-1},_.findLastIndex=_.find_last_i=function q(n,t){if(1==arguments.length)return _(q,___,n);var r=DataIter2(arguments,2,this);if(r)var e=r[0],u=r[1];else var e=n,u=t;for(var t=getLength(e)-1;t>=0;t--)if(u(e[t],t,e))return t;return-1},_.index_of=_.indexOf=createIndexFinder(1,_.findIndex,_.sortedIndex),_.last_index_of=_.lastIndexOf=createIndexFinder(-1,_.findLastIndex),_.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),_=Array(e),u=0;e>u;u++,n+=r)_[u]=n;return _},_.mapObject=_.map_object=function Z(n,t){if(1==arguments.length)return _(Z,___,n);var r=DataIter2(arguments,2,this);if(r)var e=r[0],u=r[1];else var e=n,u=t;for(var i={},a=_keys(e),t=0,s=a.length;s>t;t++)i[a[t]]=u(e[a[t]],a[t],e);return i},_.pairs=function(n){for(var t=_keys(n),r=t.length,e=Array(r),_=-1;++_<r;)e[_]=[t[_],n[t[_]]];return e},_.functions=function(n){var t=[];for(var r in n)_.isFunction(n[r])&&t.push(r);return t.sort()},_.find_k=_.find_key=_.findKey=function P(n,t){if(1==arguments.length)return _(P,___,n);var r=DataIter2(arguments,2,this);if(r)var e=r[0],u=r[1];else var e=n,u=t;for(var i,a=_keys(e),t=0,s=a.length;s>t;t++)if(u(e[i=a[t]],i,e))return i},_.pick=function X(n,t){if(1==arguments.length)return _(X,___,n);if(2==arguments.length)var r=n,e=t;else var r=arguments[arguments.length-2],e=Iter(arguments);if(!r)return{};this!=_&&this!=G&&_.isFunction(e)&&(e=_.bind(e,this));var u={},t=-1;if(_.isFunction(e))for(var i=_keys(r),a=i.length;++t<a;){var s=i[t],l=r[s];e(l,s,r)&&(u[s]=l)}else for(var i=_.wrap_arr(e),a=i.length;++t<a;){var s=i[t],l=r[s];l&&(u[s]=l)}return u},_.omit=function C(n,t){if(1==arguments.length)return _(C,___,n);if(2==arguments.length)var r=n,e=t;else var r=arguments[arguments.length-2],e=Iter(arguments);if(!r)return{};this!=_&&this!=G&&_.isFunction(e)&&(e=_.bind(e,this));var u={},t=-1;if(_.isFunction(e))for(var i=_keys(r),a=i.length;++t<a;)e(r[i[t]],i[t],r)||(u[i[t]]=r[i[t]]);else for(var s=_keys(r),i=_.wrap_arr(e),a=s.length;++t<a;)-1==i.indexOf(s[t])&&(u[s[t]]=r[s[t]]);return u};var s_matcher_reg1=/\{\{\{.*?\}\}\}/g,s_matcher_reg2=/\{\{.*?\}\}/g,insert_datas1=_.partial(s_exec,s_matcher_reg1,_.escape),insert_datas2=_.partial(s_exec,s_matcher_reg2,_.idtt),TAB,TAB_SIZE,REG1,REG2,REG3,REG4,REG5,REG6,REG7,REG8;_.TAB_SIZE=function(n){TAB_SIZE=n,TAB="( {"+n+"}|\\t)";var t=TAB+"+";REG1=new RegExp("^"+t),REG2=new RegExp("//"+t+".*?(?=((//)?"+t+"))|//"+t+".*","g"),REG3=new RegExp(t+"\\S.*?(?="+t+"\\S)|"+t+"\\S.*","g"),REG4={},times2(20,function(n){REG4[n]=new RegExp(TAB+"{"+n+"}$")}),REG5=new RegExp("^("+t+")(\\[.*?\\]|\\{.*?\\}|\\S)+\\.(?!\\S)"),REG6={},times2(20,function(n){REG6[n]=new RegExp("("+TAB+"{"+n+"})","g")}),REG7=new RegExp("\\n("+t+"[\\s\\S]*)"),REG8=new RegExp("^"+t+"\\|")},_.TAB_SIZE(2),_.template=_.t=function(){return s.apply(null,[convert_to_html].concat(_.toArray(arguments)))},_.template$=_.t$=function(){return s.apply(null,[convert_to_html,"$"].concat(_.toArray(arguments)))},_.string=_.s=function(){return s.apply(null,[_.idtt].concat(_.toArray(arguments)))},_.string$=_.s$=function(){return s.apply(null,[_.idtt,"$"].concat(_.toArray(arguments)))};var teach=function(n,t){return function(){t=t||_.idtt;var r=t(n.apply(null,arguments));return t(function(n){return _.go(1==arguments.length?_.map(_.wrapArray(n),r):_.map.apply(null,_.to_array(arguments).concat(r)),function(n){return n.join("")})})}};_.teach=_.template.each=_.t.each=teach(_.t),_.teach_memoize2=teach(_.t,_.memoize2),_.seach=_.string.each=_.t.seach=teach(_.s),_.t$each=_.template$.each=_.t$.each=teach(_.t$),_.s$each=_.string$.each=_.t$.seach=teach(_.s$),window.__ptf_storage={},_.remove=_remove,_.remove_by_i=_.removeByIndex=function(n,t){if(-1!==t){var r=n.slice(t+1||n.length);n.length=t,n.push.apply(n,r)}return t},_.sel=_.select=function(n,t){return t&&_.reduce(t.split(/\s*->\s*/),function(n,t){return n&&t?t.match(/^\((.+)\)/)?_.find(n,_.lambda(RegExp.$1)):t.match(/\[(.*)\]/)?function(n,t){if(t.length>2||t.length<1||_.filter(t,function(n){return isNaN(n)}).length)return _.Err("[] sel in [num] or [num ~ num]");var r=t[0],e=t[1];return e?slice.call(n,0>r?n.length+r:r,0>e?n.length+e:e+1):n[0>r?n.length+r:r]}(n,_.map(RegExp.$1.replace(/\s/g,"").split("~"),_.parseInt)):n[t]:void 0},n)},_.extend(_,{set:function J(n,t,r){if(2==arguments.length)return _(J,_,n,t);if(1==arguments.length)return _(J,_,n);var e=t.split(/\s*->\s*/),u=e.length-1;return _.mr_cat(n,_set(1==e.length?n:_.sel(n,e.slice(0,u).join("->")),e[u],r))},unset:function(n,t){var r=t.split(/\s*->\s*/),e=r.length-1;return _.mr_cat(n,_unset(1==r.length?n:_.sel(n,r.slice(0,e).join("->")),r[e]))},remove2:function(n,t,r){if(r)return _.mr_cat(n,_remove(_.sel(n,t),r));var e=t.split(/\s*->\s*/);return _.mr_cat(n,_remove(_.sel(n,e.slice(0,e.length-1).join("->")),_.sel(n,t)))},extend2:function(n,t){return _.mr_cat(n,_.extend.apply(null,[_.sel(n,t)].concat(_.toArray(arguments).slice(2,arguments.length))))},defaults2:function(n,t){return _.mr_cat(n,_.defaults.apply(null,[_.sel(n,t)].concat(_.toArray(arguments).slice(2,arguments.length))))},pop:function(n,t){return _.mr_cat(n,_pop(_.sel(n,t)))},shift:function(n,t){return _.mr_cat(n,_shift(_.sel(n,t)))},push:function(n,t,r){return _.mr_cat(n,_push(_.sel(n,t),r))},unshift:function(n,t,r){return _.mr_cat(n,_unshift(_.sel(n,t),r))}}),_.immutable=_.im=_.extend(function(n,t){var r=_.clone(n);return{start:r,selected:_.reduce(t.split(/\s*->\s*/),function(n,t){return t.match(/^\((.+)\)/)?function(n,t){return n[n.indexOf(t)]=_.clone(t)}(n,_.find(n,_.lambda(RegExp.$1))):t.match(/\[(.*)\]/)?function(n,t){if(t.length>2||t.length<1||_.filter(t,_.pipe(_.identity,isNaN)).length)return _.Err("[] sel in [num] or [num ~ num]");var r=t[0],e=t[1];return e?function(n,t){return each(t,function(t){n[n.indexOf(t)]=_.clone(t)})}(n,slice.call(n,0>r?n.length+r:r,0>e?n.length+e:e+1)):n[r]=_.clone(n[0>r?n.length+r:r])}(n,map(RegExp.$1.replace(/\s/g,"").split("~"),_.pipe(_.identity,parseInt))):n[t]=_.clone(n[t])},r)}},{set:function(n,t,r){var e=t.split(/\s*->\s*/),u=e.length-1,i=_.im(n,e.slice(0,1==e.length?void 0:u).join("->"));return _.mr_cat(i.start,_set(1==e.length?i.start:i.selected,e[u],r))},unset:function(n,t){var r=t.split(/\s*->\s*/),e=r.length-1,u=_.im(n,r.slice(0,e).join("->"));return _.mr_cat(u.start,_unset(1==r.length?u.start:u.selected,r[e]))},remove2:function(n,t,r){var e=t.split(/\s*->\s*/),u=_.im(n,t);return r?to_mr([n].concat(_remove(u.selected,r))):_.mr_cat(u.start,_remove(_.sel(u.start,e.slice(0,e.length-1).join("->")),u.selected))},extend:function(n){return _.extend.apply(null,[_.is_array(n)?[]:{},n].concat(_.toArray(arguments).slice(1,arguments.length)))},defaults:function(n){return _.defaults.apply(null,[_.is_array(n)?[]:{},n].concat(_.toArray(arguments).slice(1,arguments.length)))},extend2:function(n,t){var r=_.im(n,t);return _.mr_cat(r.start,_.extend.apply(null,[r.selected].concat(_.toArray(arguments).slice(2,arguments.length))))},defaults2:function(n,t){var r=_.im(n,t);return _.mr_cat(r.start,_.defaults.apply(null,[r.selected].concat(_.toArray(arguments).slice(2,arguments.length))))},pop:function(n,t){var r=_.im(n,t);return _.mr_cat(r.start,_pop(r.selected))},shift:function(n,t){var r=_.im(n,t);return _.mr_cat(r.start,_shift(r.selected))},push:function(n,t,r){var e=_.im(n,t);return _.mr_cat(e.start,_push(e.selected,r))},unshift:function(n,t,r){var e=_.im(n,t);return _.mr_cat(e.start,_unshift(e.selected,r))}}),_.box=function(n,t){function r(n){return!n||likearr(n)&&!n.length?void 0:_.select(i,e(n))}function e(n){return _.isString(n)?n:_.isArray(n)?map(n,function(n){return _.isString(n)?n:(likearr(n)?n[0]:n).getAttribute("box_sel")}).join("->"):(likearr(n)?n[0]:n).getAttribute("box_sel")}var u,i=new Box,a=_.isString(n);if(a&&2==arguments.length)i[n]=t;else if(!a&&1==arguments.length)for(u in n)i[u]=n[u];var s=function(){return i};return _.extend(s,{stringify:function(){return JSON.stringify(i)},select:r,sel:r,set:function(n,t){return help_result(_.set(i,e(n),t),s)},unset:function(n){return help_result(_.unset(i,e(n)),s)},remove2:function(n){return help_result(_.remove2(i,e(n)),s)},extend:function(n){return _.extend(i,n),_.mr_cat(s,n)},defaults:function(n){return _.defaults(i,n),_.mr_cat(s,n)},extend2:function(n){return help_result(_.extend2.apply(null,[i,e(n)].concat(_.toArray(arguments).slice(1,arguments.length))),s)},defaults2:function(n){return help_result(_.defaults2.apply(null,[i,e(n)].concat(_.toArray(arguments).slice(1,arguments.length))),s)},pop:function(n){return help_result(_.pop(i,e(n)),s)},push:function(n,t){return help_result(_.push(i,e(n),t),s)},shift:function(n){return help_result(_.shift(i,e(n)),s)},unshift:function(n,t){return help_result(_.unshift(i,e(n),t),s)},im:{set:function(n,t){return help_result(_.im.set(i,e(n),t))},unset:function(n){return help_result(_.im.unset(i,e(n)))},remove2:function(n){return help_result(_.im.remove2(i,e(n)))},extend:function(){return help_result(_.im.extend.apply(null,[i].concat(_.toArray(arguments))))},defaults:function(){return help_result(_.im.defaults.apply(null,[i].concat(_.toArray(arguments))))},extend2:function(n){return help_result(_.im.extend2.apply(null,[i,e(n)].concat(_.toArray(arguments).slice(1,arguments.length))))},defaults2:function(n){return help_result(_.im.defaults2.apply(null,[i,e(n)].concat(_.toArray(arguments).slice(1,arguments.length))))},pop:function(n){return help_result(_.im.pop(i,e(n)))},push:function(n,t){return help_result(_.im.push(i,e(n),t))},shift:function(n){return help_result(_.im.shift(i,e(n)))},unshift:function(n,t){return help_result(_.im.unshift(i,e(n),t))}}})},!function(n,t){function r(n,r,e,_){var u=t[n];return e.is_once=!!_,u||(u=t[n]={}),(u[r]=u[r]||[]).push(e),e}function e(r,e){var _=t[r];1==arguments.length?_unset(t,r):_&&2==arguments.length&&each(n.isString(e)?[e]:e,n(_unset,_))}function _(n,r){var e,_=t[n];if(_)for(e in _)i(r,_,e)}function u(r,e,_){!function(t,r){return t?n.isString(r)?i(_,t,r):void(n.isArray(r)&&each(r,n(i,_,t))):void 0}(t[r],n.isFunction(e)?e():e)}function i(t,r,e){_set(r,e,n.reject(r[e],function(n){return n.apply(null,t),n.is_once}))}n.noti=n.notice={on:r,once:n(r,n,n,n,!0),off:e,emit:u,emitAll:_}}(_,{});var L=G.L=_.L={};L.strict=function(n){return _.isNumber(n)?L.strict(function(t){return t.length<n}):(n._p_go_lazy&&(n=wrap_iter(n)),n._p_lzne=n._p_lzst=!0,n)},L.map=function(n){if(n._p_go_lazy){if(n._p_lzt_m)return n;n=wrap_iter(n)}return n._p_lzne=n._p_lzt_m=!0,n._p_go_lazy=go_lazy,n},L.filter=function(n){if(n._p_go_lazy){if(n._p_lzt_ft)return n;n=wrap_iter(n)}return n._p_lzt_m=!1,n._p_lzne=n._p_lzt_ft=!0,n._p_go_lazy=go_lazy,n},L.reject=function(n){function t(t){return!n(t)}return t._p_lzt_m=!1,t._p_lzne=t._p_lzt_ft=!0,t._p_go_lazy=go_lazy,t},L.find=function(n){if(n._p_go_lazy){if(n._p_lzt_fi)return n;n=wrap_iter(n)}return n._p_lze=n._p_lzt_fi=!0,n._p_go_lazy=go_lazy_fi,n},L.some=function(n){if(n._p_go_lazy){if(n._p_lzt_s)return n;n=wrap_iter(n)}return n._p_lze=n._p_lzt_s=!0,n._p_go_lazy=go_lazy_s,n},L.every=function(n){if(n._p_go_lazy){if(n._p_lzt_e)return n;n=wrap_iter(n)}return n._p_lze=n._p_lzt_e=!0,n._p_go_lazy=go_lazy_e,n},L.take=function(n){return{limit:n,_p_lzt_t:!0,_p_lze:!0,_p_go_lazy:go_lazy_t}},L.loop=function(n,t){function r(t){return n(t)}return 2==arguments.length&&(r=_.mr(r,t)),r._p_lze=r._p_lzt_l=!0,r._p_go_lazy=go_lazy_l,r},"function"==typeof define&&define.amd?define("partial",[],function(){return _}):"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports?module.exports=_:window._=_,window._p=_,window.__=__,window.__1=__1,window.___=___,window.___1=___1}("object"==typeof global&&global.global==global&&(global.G=global)||(window.G=window));